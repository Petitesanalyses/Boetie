<div id="escape-game">
  <h2>ğŸ” Escape Game LittÃ©raire : Le Discours Interdit</h2>
  <p>
    AnnÃ©e 1574. ğŸ“œ Tu es un jeune humaniste rÃ©voltÃ©. La BoÃ©tie est mort depuis 14 ans, mais un manuscrit oubliÃ© du <em>Discours de la servitude volontaire</em> vient d'Ãªtre retrouvÃ©. Pour le rendre public, tu dois Ã©chapper Ã  la censure du pouvoir royal, traverser 15 Ã©preuves, et dÃ©crypter le sens profond du texte. Un seul mot dâ€™ordre : rÃ©sister. PrÃªt ? Commence lâ€™aventure.
  </p>

  <!-- Ã‰NIGME 1 -->
  <div class="enigme" id="enigme1">
    <h3>ğŸ§© Ã‰nigme 1 : La page disparue</h3>
    <p>Un indice est cachÃ© dans une phrase du Discours : Â« Il est incroyable de voir comme le peuple, dÃ¨s quâ€™il est assujetti, tombe soudain dans un si profond oubli de sa libertÃ©... Â»<br>
    Mais quel mot-clÃ© La BoÃ©tie rÃ©pÃ¨te-t-il plusieurs fois dans le premier tiers du texte, pour dÃ©crire l'attitude des sujets ?</p>
    <input type="text" id="reponse1" placeholder="Ã‰cris ta rÃ©ponse ici">
    <button onclick="verifierEnigme1()">Valider âœ…</button>
    <p id="feedback1"></p>
  </div>

  <!-- Ã‰NIGME 2 (cachÃ©e par dÃ©faut) -->
  <div class="enigme" id="enigme2" style="display:none">
    <h3>ğŸ§  Ã‰nigme 2 : Le choix de l'ombre</h3>
    <p>Un noble tâ€™accueille dans son manoir et t'offre trois livres en apparence identiques. Un seul contient un extrait cachÃ© du Discours. Sur leur tranche, tu lis :<br>
      ğŸ“• <em>Du contrat social</em><br>
      ğŸ“— <em>Le Prince</em><br>
      ğŸ“˜ <em>Les Essais</em><br>
      Lequel choisir pour trouver la trace de La BoÃ©tie ?</p>
    <select id="reponse2">
      <option value="">Choisis un livre</option>
      <option value="contrat">ğŸ“• Du contrat social</option>
      <option value="prince">ğŸ“— Le Prince</option>
      <option value="essais">ğŸ“˜ Les Essais</option>
    </select>
    <button onclick="verifierEnigme2()">Valider âœ…</button>
    <p id="feedback2"></p>
  </div>

  <!-- Ã‰NIGME 3 (exemple dâ€™interactivitÃ© poussÃ©e) -->
  <div class="enigme" id="enigme3" style="display:none">
    <h3>ğŸ”® Ã‰nigme 3 : Le code de la servitude</h3>
    <p>Un coffre ancien sâ€™ouvre Ã  demi. Il contient un papier avec le message suivant :</p>
    <blockquote>
      "Transforme chaque lettre du mot <strong>OBEIR</strong> selon cette rÃ¨gle :<br>
      A â†’ Z, B â†’ Y, C â†’ X, ... (substitution miroir de l'alphabet)"
    </blockquote>
    <p>Entre le mot dÃ©codÃ© :</p>
    <input type="text" id="reponse3" placeholder="Ta rÃ©ponse">
    <button onclick="verifierEnigme3()">Valider âœ…</button>
    <p id="feedback3"></p>
  </div>
</div>

<script type="text/javascript">
function verifierEnigme1() {
  const reponse = document.getElementById("reponse1").value.trim().toLowerCase();
  const feedback = document.getElementById("feedback1");
  if (reponse === "habitude" || reponse === "lâ€™habitude" || reponse === "l'habitude") {
    feedback.innerHTML = "ğŸŸ© Bonne rÃ©ponse ! Tu peux passer Ã  lâ€™Ã©tape suivante.";
    document.getElementById("enigme2").style.display = "block";
  } else {
    feedback.innerHTML = "ğŸ”µ Non, ce mot revient trÃ¨s souvent au dÃ©but. Cherche encore.";
  }
}

function verifierEnigme2() {
  const reponse = document.getElementById("reponse2").value;
  const feedback = document.getElementById("feedback2");
  if (reponse === "essais") {
    feedback.innerHTML = "ğŸŸ© Exact ! Montaigne a prÃ©servÃ© une partie de lâ€™Ã¢me de son ami dans ses Ã©crits.";
    document.getElementById("enigme3").style.display = "block";
  } else {
    feedback.innerHTML = "ğŸ”µ Faux. Ce nâ€™est pas le bon auteur. RÃ©flÃ©chis Ã  lâ€™ami fidÃ¨le de La BoÃ©tie.";
  }
}

function verifierEnigme3() {
  const reponse = document.getElementById("reponse3").value.trim().toUpperCase();
  const feedback = document.getElementById("feedback3");
  if (reponse === "LYVRI") {
    feedback.innerHTML = "ğŸŸ© Tu as dÃ©codÃ© le langage du pouvoir ! Une serrure invisible vient de cÃ©der...";
  } else {
    feedback.innerHTML = "ğŸ”µ Essaie encore. Ce nâ€™est pas encore le bon mot miroir.";
  }
}
</script>

<style>
.enigme {
  margin-bottom: 2em;
  padding: 1em;
  border: 2px solid #444;
  border-radius: 10px;
  background-color: #f9f9f9;
}
.enigme h3 {
  margin-top: 0;
}
input, select {
  padding: 0.5em;
  margin-top: 0.5em;
  margin-bottom: 0.5em;
  width: 100%;
  box-sizing: border-box;
  font-size: 1em;
}
button {
  padding: 0.5em 1em;
  background-color: #444;
  color: white;
  border: none;
  cursor: pointer;
  border-radius: 5px;
  font-size: 1em;
}
button:hover {
  background-color: #222;
}
</style>
